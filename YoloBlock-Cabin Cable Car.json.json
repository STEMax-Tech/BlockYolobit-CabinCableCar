{"mode":"python","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"a[FQGw_QILlcjmU)068#\">isRunning</variable><variable id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</variable><variable id=\"uOT=,*M.Uo2Yp-rGUB2u\">edgeLightDetect</variable><variable id=\"cK?:=@CM9(mE0j6@SME0\">light</variable><variable id=\":*(}_T],zudw4/6{^RN0\">delayCount</variable><variable id=\"ft}6w~q#?nx}CnJUl#H3\">speed</variable></variables><block type=\"yolobit_basic_forever\" id=\"}(@0efF#`-N=9_:Rc;X$\" x=\"-1013\" y=\"-313\"><statement name=\"ONSTART\"><block type=\"yolobit_music_stop\" id=\"(TM#k]4[/isypLLb=KnZ\"><next><block type=\"variables_set\" id=\"|CY9alZBJSUklp4x2!:(\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"7xl=:(TN$h^Ko=_w^VBs\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\"WZ_0jTNJeU(-taVizuEP\"><field name=\"VAR\" id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"srAQ3#~a@QdlOw1RcWQ6\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\" id=\"|pfW8PD-@vN9oE5)nx1!\"><field name=\"VAR\" id=\"uOT=,*M.Uo2Yp-rGUB2u\">edgeLightDetect</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"niuY;QFUD+%]vSuSf$Bf\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\" id=\"X/T-fhbs82[0~G`eaE(o\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field><value name=\"VALUE\"><block type=\"math_number\" id=\"jVJSPy`9)Y9Yq:PSy?ns\"><field name=\"NUM\">50</field></block></value><next><block type=\"variables_set\" id=\"]5.YBck/Sh)C,eK0vR;L\"><field name=\"VAR\" id=\"ft}6w~q#?nx}CnJUl#H3\">speed</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Gu+{[r{+~S3*?+(ooVMo\"><field name=\"NUM\">100</field></block></value><next><block type=\"variables_set\" id=\"?R8D?_)*0M:3mUzK_mG{\"><field name=\"VAR\" id=\":*(}_T],zudw4/6{^RN0\">delayCount</field><value name=\"VALUE\"><block type=\"math_number\" id=\"l;cxEy03k2|NGwTDh%#_\"><field name=\"NUM\">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"controls_if\" id=\"6.o-B]{M`V[B*)CevBIR\"><value name=\"IF0\"><block type=\"yolobit_input_button_is_pressed\" id=\"lZ))tb8r40q0*8O!sU6c\"><field name=\"button\">a</field></block></value><statement name=\"DO0\"><block type=\"yolobit_music_play_note\" id=\"gGr@iML)D4!;tJ_2KP61\"><field name=\"DURATION\">0.25</field><value name=\"PITCH\"><shadow type=\"yolobit_music_note\" id=\"f,bd`u4.7eh9[,TrG6{}\"><field name=\"PITCH\">35</field></shadow></value><next><block type=\"controls_whileUntil\" id=\"AFC]eQB^z]^lH%s|H-A}\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"yolobit_input_button_is_pressed\" id=\"{KFpAo605_^S8kP@,0!g\"><field name=\"button\">a</field></block></value><next><block type=\"math_change\" id=\"g-.pm!FoS0.wOo(IIVl7\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\"~an5uF4T9?;!$$cjEZpg\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"controls_if\" id=\"r*Y~x9j-R*LaA%3-z|^h\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"t-MdcrUZTENJ-_*~/kNH\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"h(!:62tb*V$uS#?88D9u\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"nFFghIO1yU|$B|]_i)?s\"><field name=\"NUM\">200</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"3,6XsZJtKW8d4CiE%-0x\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field><value name=\"VALUE\"><block type=\"math_number\" id=\"nwq)be1Ms42}JVa7lN3R\"><field name=\"NUM\">50</field></block></value></block></statement><next><block type=\"yolobit_basic_scroll_number\" id=\"d;LF]~P0vO)cwnyt6fVc\"><value name=\"message\"><shadow type=\"math_number\" id=\"N}]^zU?Y$nZJ0dzxLLp_\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"4S?ROozc*(y$4fRn{m8!\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"Z$x~s5L%}ofGgqB}k-KR\"><value name=\"IF0\"><block type=\"yolobit_input_button_is_pressed\" id=\"5P3@,(l#N1Xw[|1wXON2\"><field name=\"button\">b</field></block></value><statement name=\"DO0\"><block type=\"yolobit_music_play_note\" id=\"}j=FD^IL5lPro)`;r|Ig\"><field name=\"DURATION\">0.5</field><value name=\"PITCH\"><shadow type=\"yolobit_music_note\" id=\"T!c73~6t-}rBFl?wcy}x\"><field name=\"PITCH\">24</field></shadow></value><next><block type=\"controls_whileUntil\" id=\"(P:l!Zm?S!}+*0m;;w3X\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"yolobit_input_button_is_pressed\" id=\"5=@/5Lgmtb|c6fY-Jp}L\"><field name=\"button\">b</field></block></value><next><block type=\"variables_set\" id=\"JebM0]L,AmADIB_!oMuO\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"ab07*:fj.$ZOrx`hX2{/\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"yolobit_input_timer_reset\" id=\"vbwnm=;c1EBUr,.Ge,be\"></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\"u9I2EA8%rJN@a]6RO^G{\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"G[39/sJhZAZ{M+aJW@;v\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"variables_get\" id=\"BtjLERFB;$;(KPJHtbQ@\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"g$fbtu0]R4s9J4g45@CR\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"math_arithmetic\" id=\":d~QWAwd.JrFgY@Ia]0/\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" id=\".7.4Hjr@g;0-gOU7K)oU\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_pin_read_analog\" id=\"m*BE_[F`Y=n,?O~bk+*H\"><field name=\"pin\">2</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"U?n^|P5(47]C#D8=O8d.\"><field name=\"NUM\">10</field></shadow></value></block></value><value name=\"B\"><block type=\"variables_get\" id=\"eY08c/UW*kI+Oy)uzgKh\"><field name=\"VAR\" id=\"cK?:=@CM9(mE0j6@SME0\">light</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"Y@y7(*%XQJj#EE)TICSm\"><value name=\"IF0\"><block type=\"variables_get\" id=\"(1r9cS8pOi/{_mPQnL{=\"><field name=\"VAR\" id=\"uOT=,*M.Uo2Yp-rGUB2u\">edgeLightDetect</field></block></value><statement name=\"DO0\"><block type=\"yolobit_input_timer_reset\" id=\"rgU!;+n^:d/)Tc69TEBn\"><next><block type=\"variables_set\" id=\"7Bld{L11Mrbnt2X|XOb=\"><field name=\"VAR\" id=\"uOT=,*M.Uo2Yp-rGUB2u\">edgeLightDetect</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"O$U6AkoH~MS+C^OtHu]=\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement><next><block type=\"variables_set\" id=\"n%H:#O#ky4P/l?8dA0iB\"><field name=\"VAR\" id=\":*(}_T],zudw4/6{^RN0\">delayCount</field><value name=\"VALUE\"><block type=\"yolobit_input_timer_get\" id=\"T,q*K?dcT*6(Ursrr)av\"></block></value><next><block type=\"controls_if\" id=\"jY%elAtABF}C/_.f;20E\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"HLa0dkG$yMPMvoWb5~t9\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"h|SD=qIjAl^k:6qdT+t/\"><field name=\"VAR\" id=\":*(}_T],zudw4/6{^RN0\">delayCount</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Po!5^:A=m/SyJMxz!cf_\"><field name=\"NUM\">2500</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"|l*KF/7*ZclF#O}9ORa.\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"0:H?GF:`DC`l:o~fy_c_\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\"L~%8EV$Ne5-0{;)Lp{Og\"><field name=\"VAR\" id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</field><value name=\"VALUE\"><block type=\"logic_negate\" id=\":TShD!:F?OTdBj@OoJU!\"><value name=\"BOOL\"><block type=\"variables_get\" id=\"V3XBQz0E?)Diq,CE[484\"><field name=\"VAR\" id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</field></block></value></block></value><next><block type=\"yolobit_music_play_built_in\" id=\"-%*EH)M/j)ppDY!%5Sx?\"><field name=\"melody\">POWER_DOWN</field></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"4Z9~AX@EDw6{4fRN!yzt\"><field name=\"VAR\" id=\"uOT=,*M.Uo2Yp-rGUB2u\">edgeLightDetect</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"PZw*~/Py!rd%YAL~~$4*\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\" id=\"*h$Nf;45nBXf?E+A}Wk!\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"2;?fJsI7sO-iUVo`xO;|\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"variables_get\" id=\"qddF=(k:?:yA/6DyBxl`\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"fcDqH/eufmGp3?P9wY=P\"><field name=\"VAR\" id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_basic_show_image\" id=\"Hv[rIz_}i:xCuFl03mgK\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"JnQa5%W^]?C_fjPL$5Ct\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#0000ff</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#0000ff</field><field name=\"12\">#000000</field><field name=\"13\">#000000</field><field name=\"14\">#000000</field><field name=\"20\">#0000ff</field><field name=\"21\">#0000ff</field><field name=\"22\">#0000ff</field><field name=\"23\">#0000ff</field><field name=\"24\">#0000ff</field><field name=\"30\">#000000</field><field name=\"31\">#0000ff</field><field name=\"32\">#000000</field><field name=\"33\">#000000</field><field name=\"34\">#000000</field><field name=\"40\">#000000</field><field name=\"41\">#000000</field><field name=\"42\">#0000ff</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value><next><block type=\"yolobit_pin_servo360_write\" id=\".Zr1wo0BBF@m_EL-@}51\"><field name=\"pin\">0</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/VXtkmi+m;NsOPo)C-za\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"(Xhl_Y(WgS`,dsm6_G*o\"><field name=\"VAR\" id=\"ft}6w~q#?nx}CnJUl#H3\">speed</field></block></value><next><block type=\"yolobit_pin_servo360_write\" id=\"9Tq`/8^8?!~;Gis8JwLs\"><field name=\"pin\">1</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/VXtkmi+m;NsOPo)C-za\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"*N-5(}[k!%r)b_sHv]uR\"><field name=\"VAR\" id=\"ft}6w~q#?nx}CnJUl#H3\">speed</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_operation\" id=\"}}H~pg*aF05(d^HeHyob\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"variables_get\" id=\"6`iIjIO)ROiR0,|e^`Sp\"><field name=\"VAR\" id=\"a[FQGw_QILlcjmU)068#\">isRunning</field></block></value><value name=\"B\"><block type=\"logic_negate\" id=\"3j!dfMOiygt[cC`E(cFe\"><value name=\"BOOL\"><block type=\"variables_get\" id=\"[3f^Vbq51E3t9-t:;~y?\"><field name=\"VAR\" id=\"UV*%Ls,@p~]4V%|2]bCF\">isForward</field></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"yolobit_basic_show_image\" id=\"3)NgCJ`mJM$*DD3+58yU\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"5gCWHrtV]I]dJ!^U|+Wc\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#00ff00</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#000000</field><field name=\"12\">#000000</field><field name=\"13\">#00ff00</field><field name=\"14\">#000000</field><field name=\"20\">#00ff00</field><field name=\"21\">#00ff00</field><field name=\"22\">#00ff00</field><field name=\"23\">#00ff00</field><field name=\"24\">#00ff00</field><field name=\"30\">#000000</field><field name=\"31\">#000000</field><field name=\"32\">#000000</field><field name=\"33\">#00ff00</field><field name=\"34\">#000000</field><field name=\"40\">#000000</field><field name=\"41\">#000000</field><field name=\"42\">#00ff00</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value><next><block type=\"yolobit_pin_servo360_write\" id=\"!m+V]+9`ZgK1}ovtr.V;\"><field name=\"pin\">0</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/VXtkmi+m;NsOPo)C-za\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\" id=\"j6)}pn7}v=Snet@6VRAW\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"BT6tj7~+*ZP5?sQC~x+V\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\" id=\"M}-[pwWc.e1JPqVHK[#I\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"T9#8{)2~dDuv1FsWmXvj\"><field name=\"VAR\" id=\"ft}6w~q#?nx}CnJUl#H3\">speed</field></block></value></block></value><next><block type=\"yolobit_pin_servo360_write\" id=\"/nz8|#v[@[-Y1Gp]l`nM\"><field name=\"pin\">1</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/VXtkmi+m;NsOPo)C-za\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\" id=\"D=}Yo((L}yb:f|I[^[An\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\" id=\"m@vCM{|]l{*$s:ct-GJ}\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\" id=\"M}-[pwWc.e1JPqVHK[#I\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"/=mj1`Aolm.];4%j6@.e\"><field name=\"VAR\" id=\"ft}6w~q#?nx}CnJUl#H3\">speed</field></block></value></block></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_basic_show_image\" id=\"y2wdOZx=E?hE(8NsC4#e\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"Z`e)p+rG(B.4_sG@ie[8\"><field name=\"image\">HEART</field></block></value><next><block type=\"yolobit_pin_servo360_write\" id=\";v^%65VDH6u$Q}{{UOg4\"><field name=\"pin\">0</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/VXtkmi+m;NsOPo)C-za\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_pin_servo360_write\" id=\"+o|_@]=Q+Q-UIeGCh.}P\"><field name=\"pin\">1</field><value name=\"speed\"><shadow type=\"math_number\" id=\"/kZSdjKl_+w]I=9xbSV8\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></statement><next><block type=\"yolobit_basic_sleep\" id=\"i=?vJbFvjmPCVMDI5gD0\"><value name=\"duration\"><shadow type=\"math_number\" id=\"J8[p$ySlyb##$f1A;asg\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"xbot_serial_write_value\" id=\"]_1tEc6-4en?Kfv@FHRH\"><value name=\"name\"><shadow type=\"text\" id=\"`1yHX9^Y[l8Fso]nGDI5\"><field name=\"TEXT\">sens:</field></shadow></value><value name=\"value\"><shadow type=\"math_number\" id=\"P6cD$dw^CirS(@^BO00k\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\" id=\"Q5+7M^yvD3pq7EIXh;N4\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\" id=\".7.4Hjr@g;0-gOU7K)oU\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_pin_read_analog\" id=\"SK(h05Eu^f]d;jwcdU|R\"><field name=\"pin\">2</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"[KW^(@3.*9I`~biHK`yD\"><field name=\"NUM\">10</field></shadow></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"import music\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport time\n\nif True:\n  music.stop()\n  isRunning = False\n  isForward = True\n  edgeLightDetect = True\n  light = 50\n  speed = 100\n  delayCount = 0\n\nwhile True:\n  if button_a.is_pressed():\n    music.play(['B5:0.25'], wait=True)\n    while button_a.is_pressed():\n      pass\n    light = (light if isinstance(light, (int, float)) else 0) + 10\n    if light > 200:\n      light = 50\n    display.scroll(light)\n  if button_b.is_pressed():\n    music.play(['C5:0.5'], wait=True)\n    while button_b.is_pressed():\n      pass\n    isRunning = True\n    timer.reset()\n  if isRunning and pin2.read_analog() / 10 < light:\n    if edgeLightDetect:\n      timer.reset()\n      edgeLightDetect = False\n    delayCount = timer.get()\n    if delayCount > 2500:\n      isRunning = False\n      isForward = not isForward\n      music.play(music.POWER_DOWN, wait=False)\n  else:\n    edgeLightDetect = True\n  if isRunning and isForward:\n    display.show(Image(\"00500:05000:55555:05000:00500\"))\n    pin0.servo360_write(speed)\n    pin1.servo360_write(speed)\n  elif isRunning and not isForward:\n    display.show(Image(\"00400:00040:44444:00040:00400\"))\n    pin0.servo360_write((0 - speed))\n    pin1.servo360_write((0 - speed))\n  else:\n    display.show(Image.HEART)\n    pin0.servo360_write(0)\n    pin1.servo360_write(0)\n  time.sleep_ms(1)\n  print('sens:' + ': ' + str((pin2.read_analog() / 10)))\n  time.sleep_ms(10)\n","name":"YoloBlock-Cabin Cable Car","extensions":[],"device":"yolobit"}